{% extends "base.html" %}
{% block title %}{{ product.name }} - Flask Shop{% endblock %}

{% block content %}
  <div class="card">
    <h1 style="margin-top:0;">{{ product.name }}</h1>
    <p class="muted">在庫: {{ product.stock }}</p>
    <p class="price">¥{{ "{:,}".format(product.price) }}</p>
    <p>{{ product.description or "説明はありません。" }}</p>

    {{ url_for(
      <input type="hidden" name="product_id" value="{{ product.id }}">
      <div style="flex:1;">
        <label>数量</label>
        <input type="number" name="quantity" value="1" min="1" max="{{ product.stock }}">
      </div>
      <button class="btn" type="submit" {% if product.stock <= 0 %}disabled{% endif %}>カートに追加</button>
    </form>

    <p style="margin-top:14px;">
      {{ url_for(一覧へ戻る</a>
      {{ url_for(カートを見る</a>
    </p>
  </div>
{% endblock %}